<link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.0/js/bootstrap.min.js"></script>
<script src="//code.jquery.com/jquery-1.11.1.min.js"></script>
<!------ Include the above in your HEAD tag ---------->


<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="">
  <meta name="author" content="">

  <title>User profile form requirement</title>
  <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha256-3dkvEK0WLHRJ7/Csr0BZjAWxERc5WH7bdeUya2aXxdU= sha512-+L4yy6FRcDGbXJ9mPG8MT/3UCDzwR9gPeyFNMCtInsol++5m3bk2bXWKdZjvybmohrAsn3Ua5x8gfLnbE1YkOg=="
    crossorigin="anonymous">
  <!-- Bootstrap Core CSS -->
  <!--     <link href="css/bootstrap.min.css" rel="stylesheet"> -->
  <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet" integrity="sha256-7s5uDGW3AHqw6xtJmNNtr+OBRJUlgkNJEo78P4b0yRw= sha512-nNo+yCHEyn0smMxSswnf/OnX6/KwJuZTlNZBjauKhTK0c+zT+q5JOCx0UFhXQ6rJR9jg6Es8gPuD2uZcYDLqSw=="
    crossorigin="anonymous">

  <!-- Custom CSS -->
  <style>
    body {
      padding-top: 10%;
      /* Required padding for .navbar-fixed-top. Remove if using .navbar-static-top. Change if height of navigation changes. */
    }

    .othertop {
      margin-top: 10px;
    }

    .button {
      display: block;
      width: 30%;
      height: 10%;
      background: #4E9CAF;
      padding: 10px;
      text-align: center;
      border-radius: 5px;
      color: white;
      font-weight: bold;
    }
  </style>



</head>

<body>

  <div class="container">
    <div class="row">
      <div class="col-md-10 ">
        <form>
          <fieldset>

            <!-- Form Name -->
            <center>
              <legend>User profile form requirement</legend>
            </center>
            <!-- File Button -->
            <div class="form-group">
              <label class="col-md-4 control-label" for="Upload photo">Upload Your photo</label>
              <div class="col-md-4">
                <input id="userpic" name="userpic" class="input-file" type="file">
              </div>
              <div class="col-md-4">
                <button style="color:black;">Choose file from camera</button>
              </div>
            </div>

            <div class="form-group">
              <label class="col-md-4 control-label" for="Upload photo">Upload Workshop photo</label>
              <div class="col-md-4">
                <input id="workshoppic" name="workshoppic" class="input-file" type="file">
              </div>


              <div class="col-md-4">
                <button style="color:black;">Choose file from camera</button>
              </div>
            </div>
      </div>



      <!-- Text input-->
      <div class="form-group">
        <label class="col-md-4 control-label" for="Name (Full name)">Name (Full name)</label>
        <div class="col-md-4">
          <div class="input-group">
            <div class="input-group-addon">
              <i class="fa fa-user">
              </i>
            </div>
            <input id="name" name="name" type="text" placeholder="Name (Full name)" class="form-control input-md">
          </div>


        </div>


      </div>


      <!-- Text input-->
      <div class="form-group">
        <label class="col-md-4 control-label" for="Phone number ">Phone number </label>
        <div class="col-md-4">
          <div class="input-group">
            <div class="input-group-addon">
              <i class="fa fa-phone"></i>

            </div>
            <input id="phone" name="phone" type="number" placeholder="Personal Phone number " class="form-control input-md">

          </div>
          <div class="input-group othertop">
            <div class="input-group-addon">
              <i class="fa fa-mobile fa-1x" style="font-size: 20px;"></i>

            </div>
            <input id="workshop_no" name="workshop_no" type="number" placeholder=" Workshop Phone number " class="form-control input-md">

          </div>

        </div>
      </div>



      <!-- Text input-->
      <div class="form-group">
        <label class="col-md-4 control-label" for="Email Address">Email Address</label>
        <div class="col-md-4">
          <div class="input-group">
            <div class="input-group-addon">
              <i class="fa fa-envelope-o"></i>

            </div>
            <input id="emailid" name="emailid" type="email" placeholder="Email Address" class="form-control input-md" required>

          </div>

        </div>
      </div>

      <div class="form-group">
        <label class="col-md-4 control-label" for="Availability time">Password</label>
        <div class="col-md-4">
          <div class="input-group">
            <div class="input-group-addon">
              <i class="fa fa-clock-o"></i>

            </div>
            <input type="password" class="form-control" id="password" placeholder="Password" class="form-control input-md" pattern=".{8,}"
              title="Eight or more characters" required>
            <span class="input-group-btn">
              <button id="show_password" class="btn btn-secondary" type="button" onclick="myFunction22()">
                <span id="myDIV" class="glyphicon glyphicon-eye-open"></span>
              </button>
            </span>
            <script>
              function myFunction22() {
                var x = document.getElementById("password");
                if (x.type === "password") {
                  x.type = "text";
                  var element = document.getElementById("myDIV");
                  element.classList.remove("glyphicon-eye-open");
                  element.classList.add("glyphicon-eye-close");

                } else {
                  x.type = "password";
                  var element = document.getElementById("myDIV");


                  element.classList.remove("glyphicon-eye-close");
                  element.classList.add("glyphicon-eye-open");
                }
              }
            </script>
          </div>

        </div>
      </div>

      <div class="form-group">
        <label class="col-md-4 control-label" for="Confirm Password">Confirm Passworda</label>
        <div class="col-md-4">
          <div class="input-group">
            <div class="input-group-addon">
              <i class="fa fa-clock-o"></i>

            </div>
            <input id="confirm_password" name="Confirm Password" type="password" placeholder="Confirm Password" class="form-control input-md"
              required>
          </div>
          <span id='message'></span>
          <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
            crossorigin="anonymous"></script>
          <script>
            $('#confirm_password').on('keyup', function () {
              if ($('#password').val() == $('#confirm_password').val()) {
                $('#message').html('Matching').css('color', 'green');
              } else
                $('#message').html('Not Matching').css('color', 'orange');
            });

            $('#confirm_password').on('keyup', function () {
              if ($('#password').val() == $('#confirm_password').val()) {
                $('#message').html('Matching').css('color', 'green');
              } else
                $('#message').html('Not Matching').css('color', 'orange');
            });
          </script>
        </div>
      </div>


      <div class="form-group">
        <label class="col-md-4 control-label col-xs-12" for="Permanent Address">Permanent Address</label>
        <div class="col-md-2  col-xs-4">
          <input id="long" name="long" type="text" placeholder="District" class="form-control input-md " required>
          <br />
          <center>
            <button class="btn btn-secondary" onclick="hey();">Detect Your Location </button>
          </center>
        </div>

        <div class="col-md-2 col-xs-4">

          <input id="lat" name="lat" type="text" placeholder="Area" class="form-control input-md " required>
        </div>

      </div>
    </div>
  </div>

  <!-- Multiple Checkboxes -->
  <div class="form-group">
    <label class="col-md-4 control-label" for="Languages Known">Choose Service Category</label>
    <div class="col-md-4">
      <div class="checkbox">
        <label for="Languages Known-0">
          <input type="checkbox" name="category" id="category" value="General Service"> General Service
        </label>
      </div>


      <div class="checkbox">
        <label for="Languages Known-1">
          <input type="checkbox" name="category" id="category1" value="Road side Assistance"> Road side Assistance
        </label>
      </div>
      <div class="checkbox">
        <label for="Languages Known-2">
          <input type="checkbox" name="category" id="category2" value="Maintainence & Repair"> Maintainence & Repair
        </label>
      </div>
      <div class="checkbox">
        <label for="Languages Known-3">
          <input type="checkbox" name="category" id="category3" value="Dent Reparing & Painting"> Dent Reparing & Painting
        </label>
      </div>
      <div class="checkbox">
        <label for="Languages Known-4">
          <input type="checkbox" name="category" id="category4" value="Car Wash & Detailing"> Car Wash & Detailing
        </label>
      </div>
    </div>

  </div>

  <div class="form-group">
    <label class="col-md-4 control-label" for="radios">Do you provide GST Bill</label>
    <div class="col-md-4">
      <label class="radio-inline" for="radios-0">
        <input type="radio" name="gst" id="gst" value="Yes" checked="checked" onclick="myFunctiongst(this.value)"> Yes
      </label>
      <label class="radio-inline" for="radios-1">
        <input type="radio" name="gst" id="gst" value="No" onclick="myFunctiongst(this.value)"> No
      </label>
    </div>
  </div>

  <div class="form-group">
    <label class="col-md-4 control-label" for="radios">Do you provide pickup facility</label>
    <div class="col-md-4">
      <label class="radio-inline" for="radios-0">
        <input type="radio" name="pickup_facility" id="pickup_facility" value="Yes" checked="checked" onclick="myFunction1faci(this.value)"> Yes
      </label>
      <label class="radio-inline" for="radios-1">
        <input type="radio" name="pickup_facility" id="pickup_facility" value="NO" onclick="myFunction1faci(this.value)"> No
      </label>
    </div>
  </div>


  <div class="form-group">
    <label class="col-md-4 control-label" for="radios">Do you provide 24 hr facility</label>
    <div class="col-md-4">
      <label class="radio-inline" for="radios-0">
        <input type="radio" name="24hr" id="24hr" value="Yes" checked="checked" onclick="myFunction2faci(this.value)"> Yes
      </label>
      <label class="radio-inline" for="radios-1">
        <input type="radio" name="24hr" id="24hr" value="No" onclick="myFunction2faci(this.value)"> No
      </label>
    </div>
  </div>

  <input hidden type="text" id="general_service" name="general_service" value="0">
  <input hidden type="text" id="roadside_assistance" name="roadside_assistance" value="0">
  <input hidden type="text" id="maintenence_repair" name="maintenence_repair" value="0">
  <input hidden type="text" id="dent_repairing" name="dent_repairing" value="0">
  <input hidden type="text" id="car_wash" name="car_wash" value="0">
  <input hidden type="text" id="disc_general_service" name="disc_general_service" value="0">
  <input hidden type="text" id="disc_roadside_assistance" name="disc_roadside_assistance" value="0">
  <input hidden type="text" id="disc_maintenence_repair" name="disc_maintenence_repair" value="0">
  <input hidden type="text" id="disc_car_wash" name="disc_car_wash" value="0">
  <input hidden type="text" id="disc_dent_repairing" name="disc_dent_repairing" value="0">
  <input hidden type="text" id="bank_name" name="bank_name" value="0">
  <input hidden type="text" id="branch_name" name="branch_name" value="0">
  <input hidden type="text" id="ifsc_code" name="ifsc_code" value="0">
  <input hidden type="text" id="account_number" name="account_number" value="0">
  <input hidden type="text" id="hb_twotosix" name="hb_twotosix" value="0">

  <input hidden type="text" id="hb_sixtoten" name="hb_sixtoten" value="0">
  <input hidden type="text" id="hb_tenabove" name="hb_tenabove" value="0">
  <input hidden type="text" id="sedan_sixtoten" name="sedan_sixtoten" value="0">
  <input hidden type="text" id="sedan_tentotwentyfive" name="sedan_tentotwentyfive" value="0">
  <input hidden type="text" id="sedan_twentyfiveabove" name="sedan_twentyfiveabove" value="0">
  <input hidden type="text" id="suv_twelvetotwenty" name="suv_twelvetotwenty" value="0">
  <input hidden type="text" id="suv_twentytoforty" name="suv_twentytoforty" value="0">
  <input hidden type="text" id="suv_fortyabove" name="suv_fortyabove" value="0">
  <input hidden type="text" id="muv_fifteentoforty" name="muv_fifteentoforty" value="0">
  <input hidden type="text" id="muv_fortyabove" name="muv_fortyabove" value="0">
  <input hidden type="text" id="user_type" name="user_type" value="service_provider">


  </fieldset>
  </form>
  <form hidden class="form-horizontal" id='form2' method="POST">

    <input type="form-control" name="user_type" id="pass" value="">
    <input type="form-control" name="user_type" value="service_provider">

    <input type="form-control" name="user_type" value="service_provider">
  </form>

  <center>
    <div class="form-group">
      <label class="col-md-4 control-label"></label>
      <div class="col-md-4">
        <input id="submit" type="button" class="btn btn-primary" value="Submit">

        <a href="#" class="btn btn-danger" value="">
          <span class="glyphicon glyphicon-remove-sign"></span>Clear</a>

      </div>
    </div>
  </center>
  </div>

  </div>
  </div>

  <!-- jQuery Version 1.11.1 -->
  <script src="js/jquery.js"></script>

  <!-- Bootstrap Core JavaScript -->
  <script src="js/bootstrap.min.js"></script>



  <style type="text/css">
    html {
      height: 100%
    }

    body {
      height: 100%;
      margin: 0;
      padding: 5%;
    }
  </style>

  <script type="text/javascript" src="cordova.js"></script>
  <!-- <script src="http://maps.google.com/maps/api/js" type="text/javascript"></script> -->
  <script type="text/javascript" src="http://maps.googleapis.com/maps/api/js?sensor=false"></script>
  <script type="text/javascript">
    //New api.........

    function hey() {
      initialize();
      var geocoder;

      if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(successFunction, errorFunction);
      }
      //Get the latitude and the longitude;
      function successFunction(position) {
        var lat = position.coords.latitude;
        var lng = position.coords.longitude;
        codeLatLng(lat, lng)
      }

      function errorFunction() {
        alert("Geocoder failed");
      }

      function initialize() {
        geocoder = new google.maps.Geocoder();



      }

      function codeLatLng(lat, lng) {

        var latlng = new google.maps.LatLng(lat, lng);
        geocoder.geocode({ 'latLng': latlng }, function (results, status) {
          if (status == google.maps.GeocoderStatus.OK) {
            console.log(results)
            if (results[1]) {
              var len = results["length"];
              //formatted address
              document.getElementById("lat").value = results[0].formatted_address;
              document.getElementById("long").value = results[0].formatted_address;
              console.log(results[0].formatted_address);
              //  alert(results[0].formatted_address)
              //find country name
              for (var i = 0; i < results[0].address_components.length; i++) {
                for (var b = 0; b < results[0].address_components[i].types.length; b++) {

                  if (results[0].address_components[i].types[b] == "administrative_area_level_1") {

                    city = results[0].address_components[i];
                    break;
                  }
                }
              }
              //city data
              // alert(city.short_name + "" + city.long_name)


            } else {
              alert("No results found");
            }
          } else {
            alert("Geocoder failed due to: " + status);
          }
        });
      }
    }
// new api ends.......
  </script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>

  <script type="text/javascript">

    var sendData10 = "";
    if (document.getElementById("category").checked == true) {
      sendData10 = sendData10 + document.getElementById("category").value + ",";
    };
    if (document.getElementById("category1").checked == true) {
      sendData10 = sendData10 + document.getElementById("category1").value + ",";
    };
    if (document.getElementById("category2").checked == true) {
      sendData10 = sendData10 + document.getElementById("category2").value + ",";
    };
    if (document.getElementById("category3").checked == true) {
      sendData10 = sendData10 + document.getElementById("category3").value + ",";
    };
    if (document.getElementById("category4").checked == true) {
      sendData10 = sendData10 + document.getElementById("category4").value + ",";
    };
    console.log(sendData10);
    var sendData9;
    var sendData11;
    var sendData12;

    function myFunctiongst(browser) {
      sendData9 = browser;
    }

    function myFunction1faci(browser) {
      sendData11 = browser;
    }

    function myFunction2faci(browser) {
      sendData12 = browser;
    }


    $(document).ready(function () {
      $('#submit').click(function () {
        console.log("click");
        console.log(sendData9);
        console.log(sendData10);
        console.log(sendData11);
        console.log(sendData12);


        var sendData1 = $('#emailid').val();
        var sendData2 = $('#name').val();
        var sendData3 = $('#phone').val();
        var sendData4 = $('#workshop_no').val();
        var sendData5 = $('#lat').val();
        var sendData6 = $('#long').val();
        var sendData7 = $('#userpic').val();
        var sendData8 = $('#workshoppic').val();
        // var sendData9 = $('#gst').val();
        // var sendData10 = $('#category').val();
        // var sendData11 = $('#pickup_facility').val();
        // var sendData12 = $('#24hr').val();
        var sendData13 = $('#general_service').val();
        var sendData14 = $('#roadside_assistance').val();
        var sendData15 = $('#maintenence_repair').val();
        var sendData16 = $('#dent_repairing').val();
        var sendData17 = $('#car_wash').val();
        var sendData18 = $('#disc_general_service').val();
        var sendData19 = $('#disc_roadside_assistance').val();
        var sendData20 = $('#disc_maintenence_repair').val();
        var sendData21 = $('#disc_dent_repairing').val();
        var sendData22 = $('#disc_car_wash').val();
        var sendData23 = $('#bank_name').val();
        var sendData24 = $('#branch_name').val();
        var sendData25 = $('#ifsc_code').val();
        var sendData26 = $('#account_number').val();
        var sendData27 = $('#hb_twotosix').val();
        var sendData28 = $('#hb_sixtoten').val();
        var sendData29 = $('#hb_tenabove').val();
        var sendData30 = $('#sedan_sixtoten').val();
        var sendData31 = $('#sedan_tentotwentyfive').val();
        var sendData32 = $('#sedan_twentyfiveabove').val();
        var sendData33 = $('#suv_twelvetotwenty').val();
        var sendData34 = $('#suv_twentytoforty').val();
        var sendData35 = $('#suv_fortyabove').val();
        var sendData36 = $('#muv_fifteentoforty').val();
        var sendData37 = $('#muv_fortyabove').val();

        $.ajax({
          headers: {
            'Access-Control-Allow-Origin': '*',
            'Access-Control-Allow-Methods': 'POST',
            'Access-Control-Allow-Headers': 'Content-Type'
          },
          url: `http://localhost:8080/register_serviceprovider`,    //Your api url
          type: 'POST',   //type is any HTTP method
          contentType: "application/json",

          data: JSON.stringify({
            emailid: sendData1,
            name: sendData2,
            phone: sendData3,
            workshop_no: sendData4,
            lat: sendData5,
            long: sendData6,
            userpic: sendData7,
            workshoppic: sendData8,
            gst: "9",
            category: "10",
            pickup_facility: "11",
            twentyfourhour_facility: "12",
            general_service: sendData13,
            roadside_assistance: sendData14,
            maintenence_repair: sendData15,
            dent_repairing: sendData16,
            car_wash: sendData17,
            disc_general_service: sendData18,
            disc_roadside_assistance: sendData19,
            disc_maintenence_repair: sendData20,
            disc_dent_repairing: sendData21,
            disc_car_wash: sendData22,
            bank_name: sendData23,
            branch_name: sendData24,
            ifsc_code: sendData25,
            account_number: sendData26,
            hb_twotosix: sendData27,
            hb_sixtoten: sendData28,
            hb_tenabove: sendData29,
            sedan_sixtoten: sendData30,
            sedan_tentotwentyfive: sendData31,
            sedan_twentyfiveabove: sendData32,
            suv_twelvetotwenty: sendData33,
            suv_twentytoforty: sendData34,
            suv_fortyabove: sendData35,
            muv_fifteentoforty: sendData36,
            muv_fortyabove: sendData37
          }),      //Data as js object
          dataType: "json",

          success: function () {

            console.log(1);
          }
        });

      });
    });

    $(document).ready(function () {
      $('#submit').click(function () {
        console.log("click");
        var sendData11 = $('#password').val();
        var sendData21 = $('#emailid').val();
        var sendData31 = $('#user_type').val();

        $.ajax({
          headers: {
            'Access-Control-Allow-Origin': '*',
            'Access-Control-Allow-Methods': 'POST',
            'Access-Control-Allow-Headers': 'Content-Type'
          },
          url: 'http://localhost:8080/user',
          //Your api url
          type: 'POST',   //type is any HTTP method
          contentType: "application/json",

          data: JSON.stringify({
            password: sendData11,
            emailid: sendData21,
            user_type: sendData31,
          }),      //Data as js object
          dataType: "json",

          success: function () {
            var key = "emailid";
            var value = document.getElementById("emailid").value;
            var storage = window.localStorage;
            storage.setItem(key, value);
            window.location.href = "./choose_services_dropdown.html";
            console.log(2);
          }
        })
          ;

      });
    });
  </script>

</body>

</html>